(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[630],{23:(module,exports,__webpack_require__)=>{"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", ({\n    value: true\n}));\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nexports.default = compose;\n\nvar _react = __webpack_require__(804);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = __webpack_require__(196);\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _store = __webpack_require__(555);\n\nvar _store2 = _interopRequireDefault(_store);\n\nvar _inject = __webpack_require__(903);\n\nvar _inject2 = _interopRequireDefault(_inject);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar noop = function noop() {};\n\nfunction compose(_ref) {\n    var name = _ref.name,\n        view = _ref.view,\n        components = _ref.components,\n        state = _ref.state,\n        actions = _ref.actions,\n        container = _ref.container,\n        _ref$init = _ref.init,\n        init = _ref$init === undefined ? noop : _ref$init,\n        _ref$mounted = _ref.mounted,\n        mounted = _ref$mounted === undefined ? noop : _ref$mounted,\n        _ref$beforeUpdate = _ref.beforeUpdate,\n        beforeUpdate = _ref$beforeUpdate === undefined ? noop : _ref$beforeUpdate,\n        _ref$updated = _ref.updated,\n        updated = _ref$updated === undefined ? noop : _ref$updated,\n        _ref$beforeDestroy = _ref.beforeDestroy,\n        beforeDestroy = _ref$beforeDestroy === undefined ? noop : _ref$beforeDestroy;\n\n    var store = new _store2.default({\n        name: name,\n        state: state,\n        actions: actions\n    });\n\n    var ComposeComponent = function (_React$Component) {\n        _inherits(ComposeComponent, _React$Component);\n\n        function ComposeComponent() {\n            var _ref2;\n\n            _classCallCheck(this, ComposeComponent);\n\n            for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n                args[_key] = arguments[_key];\n            }\n\n            var _this = _possibleConstructorReturn(this, (_ref2 = ComposeComponent.__proto__ || Object.getPrototypeOf(ComposeComponent)).call.apply(_ref2, [this].concat(args)));\n\n            init.apply(_this, args);\n            return _this;\n        }\n\n        _createClass(ComposeComponent, [{\n            key: \'componentDidMount\',\n            value: function componentDidMount() {\n                for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n                    args[_key2] = arguments[_key2];\n                }\n\n                mounted.apply(this, args);\n            }\n        }, {\n            key: \'componentWillUpdate\',\n            value: function componentWillUpdate() {\n                for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n                    args[_key3] = arguments[_key3];\n                }\n\n                beforeUpdate.apply(this, args);\n            }\n        }, {\n            key: \'componentDidUpdate\',\n            value: function componentDidUpdate() {\n                for (var _len4 = arguments.length, args = Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n                    args[_key4] = arguments[_key4];\n                }\n\n                updated.apply(this, args);\n            }\n        }, {\n            key: \'componentWillUnmount\',\n            value: function componentWillUnmount() {\n                for (var _len5 = arguments.length, args = Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n                    args[_key5] = arguments[_key5];\n                }\n\n                beforeDestroy.apply(this, args);\n            }\n        }, {\n            key: \'render\',\n            value: function render() {\n                return view.call(this, {\n                    createElement: _react2.default.createElement,\n                    components: components\n                });\n            }\n        }]);\n\n        return ComposeComponent;\n    }(_react2.default.Component);\n\n    var StoreComponent = (0, _inject2.default)(store)(ComposeComponent);\n    if (container) {\n        return _reactDom2.default.render(_react2.default.createElement(StoreComponent, null), document.querySelector(container));\n    }\n    return StoreComponent;\n}\nmodule.exports = exports[\'default\'];\n\n//# sourceURL=webpack://demo/./node_modules/@royjs/core/lib/compose.js?')},877:(module,exports,__webpack_require__)=>{"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(804);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = __webpack_require__(196);\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _propTypes = __webpack_require__(697);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _store2 = __webpack_require__(555);\n\nvar _store3 = _interopRequireDefault(_store2);\n\nvar _shallowequal = __webpack_require__(774);\n\nvar _shallowequal2 = _interopRequireDefault(_shallowequal);\n\nvar _utils = __webpack_require__(570);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar normalizer = function normalizer(mapStateToProps, context, dispatch) {\n    var ret = {};\n    if ((0, _utils.isArray)(mapStateToProps)) {\n        mapStateToProps.forEach(function (key) {\n            if (typeof key === 'string') {\n                ret[key] = context.get(key);\n            } else {\n                Object.keys(key).forEach(function (k) {\n                    ret[k] = context.get(key[k]);\n                });\n            }\n        });\n    } else if (typeof mapStateToProps === 'function') {\n        ret = mapStateToProps(context);\n    } else if ((0, _utils.isPlainObject)(mapStateToProps)) {\n        var _mapStateToProps$stat = mapStateToProps.state,\n            state = _mapStateToProps$stat === undefined ? [] : _mapStateToProps$stat,\n            _mapStateToProps$acti = mapStateToProps.actions,\n            actions = _mapStateToProps$acti === undefined ? [] : _mapStateToProps$acti;\n\n        ret = normalizer(state, context);\n        actions.forEach(function (action) {\n            if (typeof action === 'string') {\n                ret[action] = function (payload) {\n                    dispatch(action, payload);\n                };\n            } else {\n                Object.keys(action).forEach(function (k) {\n                    ret[k] = function (payload) {\n                        dispatch(action[k], payload);\n                    };\n                });\n            }\n        });\n    }\n    return ret;\n};\n\n// connect([], config) -> state\n// connect({}, config) -> state, action\n// connect(() => {}, config) -> state\nvar connect = function connect() {\n    var mapStateToProps = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : function (state) {\n        return state;\n    };\n    var config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    return function withStore(Component) {\n        var StoreWrapper = function (_React$Component) {\n            _inherits(StoreWrapper, _React$Component);\n\n            function StoreWrapper(props, context) {\n                _classCallCheck(this, StoreWrapper);\n\n                var _this = _possibleConstructorReturn(this, (StoreWrapper.__proto__ || Object.getPrototypeOf(StoreWrapper)).call(this, props, context));\n\n                _this.setInstance = function (inc) {\n                    _this._instance = inc;\n                };\n\n                _this._deps = {};\n                _this._change = _utils.change.bind(_this);\n                _this._get = _utils.get.bind(_this);\n                _this.store = context.store || _store3.default.get();\n                if (config.inject) {\n                    if (context.injectStore) {\n                        _this.store = context.injectStore;\n                    } else {\n                        if (_this.store === context.store) {\n                            (0, _utils.warning)('Royjs is using Provider store to connect because the inject store is undefined');\n                        } else {\n                            (0, _utils.warning)('Royjs is using the first initialized store to connect because the inject store is undefined');\n                        }\n                    }\n                }\n                _this.store.on('change', _this._change);\n                _this.store.history = _this.store.history || _this.props.history;\n\n                if (config === true || config.pure) {\n                    _this.shouldComponentUpdate = function (nextProps, nextState) {\n                        if (this.state !== nextState) {\n                            return true;\n                        }\n                        return !(0, _shallowequal2.default)(this.props, nextProps);\n                    };\n                }\n                return _this;\n            }\n\n            _createClass(StoreWrapper, [{\n                key: 'componentWillUnmount',\n                value: function componentWillUnmount() {\n                    this.store.off('change', this._change);\n                }\n            }, {\n                key: 'componentDidMount',\n                value: function componentDidMount() {\n                    var node = _reactDom2.default.findDOMNode(this);\n                    if (node) {\n                        node._instance = this;\n                    }\n                }\n            }, {\n                key: 'beforeRender',\n                value: function beforeRender() {\n                    this.store.on('get', this._get);\n                }\n            }, {\n                key: 'afterRender',\n                value: function afterRender() {\n                    this.store.off('get', this._get);\n                }\n            }, {\n                key: 'render',\n                value: function render() {\n                    this.beforeRender();\n                    var _store = this.store,\n                        dispatch = _store.dispatch,\n                        state = _store.state;\n\n                    var props = normalizer(mapStateToProps, state, dispatch);\n                    var ret = _react2.default.createElement(Component, _extends({}, this.props, props, { dispatch: dispatch, ref: this.setInstance }));\n                    this.afterRender();\n                    return ret;\n                }\n            }, {\n                key: 'instance',\n                get: function get() {\n                    return this._instance;\n                }\n            }]);\n\n            return StoreWrapper;\n        }(_react2.default.Component);\n\n        StoreWrapper.contextTypes = {\n            store: _propTypes2.default.any,\n            injectStore: _propTypes2.default.any\n        };\n\n        return StoreWrapper;\n    };\n};\n\nexports.default = connect;\nmodule.exports = exports['default'];\n\n//# sourceURL=webpack://demo/./node_modules/@royjs/core/lib/connect.js?")},278:(module,exports)=>{"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nfunction DataSource(props) {\n    var _this = this;\n\n    Object.keys(props).forEach(function (key) {\n        _this[key] = props[key];\n    });\n}\nDataSource.prototype = {\n    url: '',\n    request: function request() {\n        console.error('需要首先引入[@royjs/core/request]才能正常工作');\n    },\n    get: function get(id, params) {\n        return this.request.get(this.url + '/' + id, params);\n    },\n    patch: function patch(id, params) {\n        return this.request.patch(this.url + '/' + id, params);\n    },\n    put: function put(id, params) {\n        return this.request.put(this.url + '/' + id, params);\n    },\n    post: function post(params) {\n        return this.request.post(this.url, params);\n    },\n    find: function find(params) {\n        return this.request.get(this.url, params);\n    },\n    remove: function remove(id) {\n        return this.request.delete(this.url + '/' + id);\n    }\n};\nexports.default = DataSource;\nmodule.exports = exports['default'];\n\n//# sourceURL=webpack://demo/./node_modules/@royjs/core/lib/data-source.js?")},546:(module,exports)=>{"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n/* eslint-disable no-cond-assign */\n\nfunction Events() {}\n\nEvents.prototype = {\n    on: function on(type, callback) {\n        var cache = void 0;\n        if (!callback) return this;\n        if (!this.__events) {\n            Object.defineProperty(this, '__events', {\n                value: {}\n            });\n        }\n        cache = this.__events;\n        (cache[type] || (cache[type] = [])).push(callback);\n        return this;\n    },\n    off: function off(type, callback) {\n        var cache = this.__events;\n        if (cache && cache[type]) {\n            var index = cache[type].indexOf(callback);\n            if (index !== -1) {\n                cache[type].splice(index, 1);\n            }\n        }\n        return this;\n    },\n    trigger: function trigger(type, evt) {\n        var cache = this.__events;\n        if (cache && cache[type]) {\n            cache[type].forEach(function (callback) {\n                return callback(evt);\n            });\n        }\n    }\n};\n\n// Mix `Events` to object instance or Class function.\nEvents.mixTo = function (receiver) {\n    receiver = typeof receiver === 'function' ? receiver.prototype : receiver;\n    var proto = Events.prototype;\n    for (var p in proto) {\n        if (proto.hasOwnProperty(p)) {\n            Object.defineProperty(receiver, p, {\n                value: proto[p]\n            });\n        }\n    }\n};\n\nexports.default = Events;\nmodule.exports = exports['default'];\n\n//# sourceURL=webpack://demo/./node_modules/@royjs/core/lib/events.js?")},84:(module,exports,__webpack_require__)=>{"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n// eslint-disable-next-line no-unused-vars\n\n\nexports.default = hotRender;\n\nvar _react = __webpack_require__(804);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = __webpack_require__(196);\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _provider = __webpack_require__(409);\n\nvar _provider2 = _interopRequireDefault(_provider);\n\nvar _store = __webpack_require__(555);\n\nvar _store2 = _interopRequireDefault(_store);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction hotRender(element, container) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n    var root = typeof container === 'string' ? document.querySelector(container) : container;\n    if (options.storeConfig) {\n        var storeConfig = options.storeConfig;\n\n        if (window.hotStore) {\n            window.hotStore.hot(storeConfig.state, storeConfig.actions, '', storeConfig.plugins || []);\n        } else {\n            window.hotStore = new _store2.default(storeConfig, {\n                plugins: storeConfig.plugins || []\n            });\n        }\n        var oldCreateElement = _react2.default.createElement;\n        if (!oldCreateElement._patched) {\n            _react2.default.createElement = function (tag, props) {\n                for (var _len = arguments.length, args = Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n                    args[_key - 2] = arguments[_key];\n                }\n\n                var newProps = props;\n                if (typeof tag !== 'string') {\n                    newProps = _extends({\n                        dispatch: window.hotStore.dispatch\n                    }, props);\n                }\n                return oldCreateElement.apply(undefined, [tag, newProps].concat(args));\n            };\n            _react2.default.createElement._patched = true;\n        }\n        return _reactDom2.default.render(_react2.default.createElement(\n            _provider2.default,\n            { store: window.hotStore },\n            element\n        ), root);\n    }\n    return _reactDom2.default.render(element, root);\n}\nmodule.exports = exports['default'];\n\n//# sourceURL=webpack://demo/./node_modules/@royjs/core/lib/hot-render.js?")},789:(module,exports,__webpack_require__)=>{"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n\nvar _inject = __webpack_require__(903);\n\nvar _inject2 = _interopRequireDefault(_inject);\n\nvar _connect = __webpack_require__(877);\n\nvar _connect2 = _interopRequireDefault(_connect);\n\nvar _provider = __webpack_require__(409);\n\nvar _provider2 = _interopRequireDefault(_provider);\n\nvar _dataSource = __webpack_require__(278);\n\nvar _dataSource2 = _interopRequireDefault(_dataSource);\n\nvar _store = __webpack_require__(555);\n\nvar _store2 = _interopRequireDefault(_store);\n\nvar _compose = __webpack_require__(23);\n\nvar _compose2 = _interopRequireDefault(_compose);\n\nvar _hotRender = __webpack_require__(84);\n\nvar _hotRender2 = _interopRequireDefault(_hotRender);\n\nvar _utils = __webpack_require__(570);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n    DataSource: _dataSource2.default,\n    inject: _inject2.default,\n    connect: _connect2.default,\n    Store: _store2.default,\n    Provider: _provider2.default,\n    compose: _compose2.default,\n    throttle: _utils.throttle,\n    hotRender: _hotRender2.default\n};\nmodule.exports = exports['default'];\n\n//# sourceURL=webpack://demo/./node_modules/@royjs/core/lib/index.js?")},903:(module,exports,__webpack_require__)=>{"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(804);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = __webpack_require__(196);\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _propTypes = __webpack_require__(697);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _shallowequal = __webpack_require__(774);\n\nvar _shallowequal2 = _interopRequireDefault(_shallowequal);\n\nvar _utils = __webpack_require__(570);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n// inject(listStore)\n// inject(listStore, true)\n// inject('listStore', listStore)\n// inject({\n// listStore,\n// noticeStore\n// })\nvar inject = function inject(key, value) {\n    var length = arguments.length;\n    var defaultProps = {},\n        pure = false;\n    if (length === 1) {\n        if (key.primaryKey) {\n            defaultProps = {\n                store: key\n            };\n        } else {\n            (0, _utils.warning)('inject multiple store will be removed at next version, using connect and Provider instead of it.');\n            defaultProps = key;\n        }\n    } else if (length === 2) {\n        if (value === true || value === false) {\n            pure = value;\n            defaultProps = {\n                store: key\n            };\n        } else {\n            defaultProps[key] = value;\n        }\n    }\n    return function withStore(Component) {\n        var _Component$prototype = Component.prototype,\n            render = _Component$prototype.render,\n            componentDidMount = _Component$prototype.componentDidMount;\n\n        var StoreWrapper = function (_React$Component) {\n            _inherits(StoreWrapper, _React$Component);\n\n            function StoreWrapper(props, context) {\n                _classCallCheck(this, StoreWrapper);\n\n                var _this = _possibleConstructorReturn(this, (StoreWrapper.__proto__ || Object.getPrototypeOf(StoreWrapper)).call(this, props, context));\n\n                _this.setInstance = function (inc) {\n                    _this._instance = inc;\n                };\n\n                _this._deps = {};\n                _this._change = _utils.change.bind(_this);\n                _this._get = _utils.get.bind(_this);\n                Object.keys(defaultProps).forEach(function (key) {\n                    var store = defaultProps[key];\n                    _this[key] = store;\n                    _this[key].on('change', _this._change);\n                    _this[key].history = _this[key].history || _this.props.history;\n                    if (_this[key].name) {\n                        _this.context.store && _this.context.store.mount(_this[key].name, _this[key]);\n                    }\n                    if (!Component.prototype._hasSet) {\n                        Object.defineProperty(Component.prototype, key, {\n                            get: function get() {\n                                (0, _utils.warning)('Using this.props.state instead of this.store.state\\nand using this.props.dispatch instead of this.store.dispatch');\n                                return store;\n                            }\n                        });\n                    }\n                });\n                Component.prototype._hasSet = true;\n\n                // 劫持组件原型，收集依赖信息\n                var that = _this;\n                Component.prototype.render = function () {\n                    that.beforeRender();\n\n                    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n                        args[_key] = arguments[_key];\n                    }\n\n                    var ret = render.apply(this, args);\n                    that.afterRender();\n                    return ret;\n                };\n\n                if (typeof componentDidMount === 'function') {\n                    Component.prototype.componentDidMount = function () {\n                        that.beforeRender();\n                        componentDidMount.apply(this);\n                        that.afterRender();\n                    };\n                }\n\n                if (pure) {\n                    _this.shouldComponentUpdate = function (nextProps, nextState) {\n                        if (this.state !== nextState) {\n                            return true;\n                        }\n                        return !(0, _shallowequal2.default)(this.props, nextProps);\n                    };\n                }\n                return _this;\n            }\n\n            _createClass(StoreWrapper, [{\n                key: 'getChildContext',\n                value: function getChildContext() {\n                    return {\n                        injectStore: this.store\n                    };\n                }\n            }, {\n                key: 'beforeRender',\n                value: function beforeRender() {\n                    var _this2 = this;\n\n                    Object.keys(defaultProps).forEach(function (key) {\n                        _this2[key].on('get', _this2._get);\n                    });\n                }\n            }, {\n                key: 'afterRender',\n                value: function afterRender() {\n                    var _this3 = this;\n\n                    Object.keys(defaultProps).forEach(function (key) {\n                        _this3[key].off('get', _this3._get);\n                    });\n                }\n            }, {\n                key: 'componentWillUnmount',\n                value: function componentWillUnmount() {\n                    var _this4 = this;\n\n                    Object.keys(defaultProps).forEach(function (key) {\n                        _this4[key].off('change', _this4._change);\n                        _this4[key].off('get', _this4._get);\n                    });\n                    // 还原组件原型，避免多次实例化导致的嵌套\n                    Component.prototype.render = render;\n                    if (componentDidMount) {\n                        Component.prototype.componentDidMount = componentDidMount;\n                    }\n                }\n            }, {\n                key: 'componentDidMount',\n                value: function componentDidMount() {\n                    var node = _reactDom2.default.findDOMNode(this);\n                    if (node) {\n                        node._instance = this;\n                    }\n                }\n            }, {\n                key: 'render',\n                value: function render() {\n                    var ret = {};\n                    Object.keys(defaultProps).forEach(function (key) {\n                        var store = defaultProps[key];\n                        if (key === 'store') {\n                            ret = {\n                                dispatch: store.dispatch,\n                                state: store.state\n                            };\n                        } else {\n                            var _ret;\n\n                            ret = (_ret = {}, _defineProperty(_ret, key + 'Dispatch', store.dispatch), _defineProperty(_ret, key + 'State', store.state), _ret);\n                        }\n                    });\n                    return _react2.default.createElement(Component, _extends({}, this.props, ret, { ref: this.setInstance }));\n                }\n            }, {\n                key: 'instance',\n                get: function get() {\n                    return this._instance;\n                }\n            }]);\n\n            return StoreWrapper;\n        }(_react2.default.Component);\n\n        StoreWrapper.contextTypes = {\n            store: _propTypes2.default.any\n        };\n        StoreWrapper.childContextTypes = {\n            injectStore: _propTypes2.default.any\n        };\n\n        return StoreWrapper;\n    };\n};\n\nexports.default = inject;\nmodule.exports = exports['default'];\n\n//# sourceURL=webpack://demo/./node_modules/@royjs/core/lib/inject.js?")},438:(module,exports)=>{"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", ({\n    value: true\n}));\nvar setValues = function setValues(store, actions) {\n    actions.setValues = function (state, payload, options) {\n        store.transaction(function () {\n            state.set(payload, options);\n        });\n    };\n};\n\nexports.default = setValues;\nmodule.exports = exports["default"];\n\n//# sourceURL=webpack://demo/./node_modules/@royjs/core/lib/plugins/set-values.js?')},409:(module,exports,__webpack_require__)=>{"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", ({\n    value: true\n}));\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(804);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = __webpack_require__(697);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Provider = function (_React$Component) {\n    _inherits(Provider, _React$Component);\n\n    function Provider() {\n        _classCallCheck(this, Provider);\n\n        return _possibleConstructorReturn(this, (Provider.__proto__ || Object.getPrototypeOf(Provider)).apply(this, arguments));\n    }\n\n    _createClass(Provider, [{\n        key: \'getChildContext\',\n        value: function getChildContext() {\n            return {\n                store: this.props.store\n            };\n        }\n    }, {\n        key: \'render\',\n        value: function render() {\n            return this.props.children;\n        }\n    }]);\n\n    return Provider;\n}(_react2.default.Component);\n\nProvider.childContextTypes = {\n    store: _propTypes2.default.any\n};\nProvider.propTypes = {\n    store: _propTypes2.default.any\n};\nexports.default = Provider;\nmodule.exports = exports[\'default\'];\n\n//# sourceURL=webpack://demo/./node_modules/@royjs/core/lib/provider.js?')},943:(module,exports,__webpack_require__)=>{"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; /* eslint-disable no-use-before-define */\n\n\nvar _events = __webpack_require__(546);\n\nvar _events2 = _interopRequireDefault(_events);\n\nvar _utils = __webpack_require__(570);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction wrap(key, value, ret) {\n    if (!(value && value.$proxy)) {\n        if ((0, _utils.isPlainObject)(value)) {\n            value = observable(value, ret);\n            value.on('get', function (args) {\n                var currentKey = key + '.' + args.key;\n                ret.trigger('get', {\n                    key: currentKey\n                });\n            });\n            value.on('change', function (args) {\n                var currentKey = key + '.' + args.key;\n                ret.trigger('change', _extends({}, args, {\n                    key: currentKey\n                }));\n            });\n        } else if (Array.isArray(value)) {\n            value = observable(value, ret);\n            value.on('get', function (args) {\n                var currentKey = key + '.' + args.key;\n                ret.trigger('get', {\n                    key: currentKey\n                });\n            });\n            value.on('change', function (args) {\n                var mixArgs = _extends({}, args);\n                if (!args.key) {\n                    mixArgs.key = key;\n                } else {\n                    mixArgs.key = key + '.' + args.key;\n                }\n                ret.trigger('change', mixArgs);\n            });\n        }\n    }\n    return value;\n}\n\nfunction rawJSON(target) {\n    if (Array.isArray(target)) {\n        return target.map(function (item) {\n            if (item && item.toJSON) {\n                return item.toJSON();\n            }\n            return item;\n        });\n    }\n    var ret = {};\n    Object.keys(target).forEach(function (key) {\n        var value = target[key];\n        if (value && value.toJSON) {\n            ret[key] = value.toJSON();\n        } else {\n            ret[key] = value;\n        }\n    });\n    return ret;\n}\n\nvar objectProcess = {\n    get: function get(options) {\n        var target = options.target,\n            events = options.events;\n\n        return function getValue(path) {\n            var slient = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n            if (!path) {\n                return null;\n            }\n\n            if (typeof path !== 'string') {\n                return target[path];\n            }\n            // 避免使用.作为key的尴尬, 优先直接获取值\n            var val = target[path];\n            if (val == null) {\n                var key = void 0;\n                var field = path.split('.');\n                if (field.length) {\n                    key = field[0];\n                    // lists[1].name\n                    if (key.indexOf('[') >= 0) {\n                        key = key.match(/(.*)\\[(.*)\\]/);\n                        if (key) {\n                            try {\n                                val = target[key[1]][key[2]];\n                            } catch (e) {\n                                throw new Error('state ' + key[1] + ' is undefined!');\n                            }\n                        }\n                    } else {\n                        val = target[field[0]];\n                    }\n                    if (val) {\n                        for (var i = 1; i < field.length; i++) {\n                            val = val[field[i]];\n                            /* eslint-disable */\n                            if (val == null) {\n                                break;\n                            }\n                        }\n                    }\n                }\n            }\n\n            if (!slient) {\n                events.trigger('get', {\n                    key: path\n                });\n            }\n            return val;\n        };\n    },\n    set: function set(options) {\n        var events = options.events,\n            target = options.target;\n\n        var _set = function _set(object, path, value) {\n            var keyNames = path.split('.'),\n                keyName = keyNames[0],\n                oldObject = object;\n\n            object = object.get(keyName);\n            if (typeof object == 'undefined') {\n                object = wrap(keyName, {}, target.$proxy);\n                oldObject[keyName] = object;\n            }\n            if ((0, _utils.isPlainObject)(object)) {\n                keyNames.splice(0, 1);\n                return object.set(keyNames.join('.'), value);\n            }\n        };\n        return function setValue(path, value) {\n            var config = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n            if ((0, _utils.isPlainObject)(path)) {\n                Object.keys(path).forEach(function (key) {\n                    var val = path[key];\n                    setValue(key, val, value);\n                });\n                return;\n            }\n            var nested = void 0,\n                getValue = objectProcess.get(options),\n                currentValue = getValue(path, true);\n\n            value = wrap(path, value, target.$proxy);\n            if (path.indexOf('.') > 0) {\n                nested = true;\n            }\n            if (nested) {\n                _set(target.$proxy, path, value);\n            } else if (path.indexOf('[') >= 0) {\n                var key = path.match(/(.*)\\[(.*)\\]/);\n                if (key) {\n                    target[key[1]].splice(key[2], 1, value);\n                    return;\n                } else {\n                    throw new Error('Not right key' + path);\n                }\n            } else {\n                target[path] = value;\n            }\n            if ((currentValue !== value || config.forceUpdate) && !nested) {\n                events.trigger('change', {\n                    key: path\n                });\n            }\n        };\n    },\n    on: function on(options) {\n        return function on() {\n            var events = options.events;\n\n            for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n                args[_key] = arguments[_key];\n            }\n\n            return events.on.apply(events, args);\n        };\n    },\n    off: function off(options) {\n        return function off() {\n            var events = options.events;\n\n            for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n                args[_key2] = arguments[_key2];\n            }\n\n            return events.off.apply(events, args);\n        };\n    },\n    trigger: function trigger(options) {\n        return function trigger() {\n            var events = options.events;\n\n            for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n                args[_key3] = arguments[_key3];\n            }\n\n            return events.trigger.apply(events, args);\n        };\n    },\n    toJSON: function toJSON(options) {\n        return function toJSON() {\n            var target = options.target;\n            return rawJSON(target);\n        };\n    },\n    reset: function reset(options) {\n        var target = options.target;\n\n        return function () {\n            Object.keys(target).forEach(function (key) {\n                target.$proxy.set(key, undefined);\n            });\n        };\n    }\n};\n\nvar arrayProcess = {};\n\n['on', 'off', 'trigger'].forEach(function (method) {\n    arrayProcess[method] = objectProcess[method];\n});\n\n['pop', 'shift', 'push', 'unshift', 'sort', 'reverse', 'splice'].forEach(function (method) {\n    arrayProcess[method] = function (options) {\n        var target = options.target,\n            events = options.events;\n\n        return function () {\n            for (var _len4 = arguments.length, args = Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n                args[_key4] = arguments[_key4];\n            }\n\n            // todo: 这里利用了新增项会调用set方法的特性，没有对新增项进行observable包裹\n            var ret = Array.prototype[method].apply(target.$proxy, args);\n            target.$proxy.trigger('change', {});\n            return ret;\n        };\n    };\n});\n\nvar whiteList = ['_reactFragment', 'constructor'];\n\nvar observable = function observable(object) {\n    if (object.$proxy) {\n        return object;\n    }\n\n    var proxy = function proxy(object, parent) {\n        var events = new _events2.default();\n        var returnProxy = void 0;\n        var handler = {\n            get: function get(target, key) {\n                if (key === '$raw') {\n                    return rawJSON(target);\n                }\n                if (Array.isArray(target) && arrayProcess.hasOwnProperty(key)) {\n                    return arrayProcess[key]({\n                        target: target,\n                        key: key,\n                        events: events\n                    });\n                }\n                if (objectProcess.hasOwnProperty(key)) {\n                    return objectProcess[key]({\n                        target: target,\n                        key: key,\n                        events: events\n                    });\n                }\n                if (Array.isArray(target) || whiteList.indexOf(key) > -1 || typeof key === 'string' && key.charAt(0) === '_') {\n                    return Reflect.get(target, key);\n                }\n                var getValue = objectProcess.get({\n                    target: target,\n                    key: key,\n                    events: events\n                });\n                return getValue(key);\n            },\n            set: function set(target, key, value) {\n                if (Array.isArray(target)) {\n                    if ((0, _utils.isPlainObject)(value)) {\n                        value = observable(value);\n                        value.on('change', function (args) {\n                            // todo: 待优化，现在任何item的更新都会触发针对list的更新\n                            target.$proxy.trigger('change', {});\n                        });\n                    }\n                    var _ret = Reflect.set(target, key, value);\n                    return true;\n                }\n                objectProcess.set({\n                    target: target,\n                    events: events\n                })(key, value);\n                return true;\n            }\n        };\n        returnProxy = new Proxy(object, handler);\n        if (!object.$proxy) {\n            Object.defineProperty(object, '$proxy', {\n                get: function get() {\n                    return returnProxy;\n                }\n            });\n        }\n        return returnProxy;\n    };\n    var ret = proxy(object);\n    if ((0, _utils.isPlainObject)(object)) {\n        for (var key in object) {\n            if (object.hasOwnProperty(key)) {\n                object[key] = wrap(key, object[key], ret);\n            }\n        }\n    } else if (Array.isArray(object)) {\n        object.forEach(function (item, index) {\n            object[index] = wrap(index, object[index], ret);\n        });\n    }\n    return ret;\n};\n\nexports.default = observable;\nmodule.exports = exports['default'];\n\n//# sourceURL=webpack://demo/./node_modules/@royjs/core/lib/proxy.js?")},555:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nexports.get = exports.create = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _events = __webpack_require__(546);\n\nvar _events2 = _interopRequireDefault(_events);\n\nvar _proxy = __webpack_require__(943);\n\nvar _proxy2 = _interopRequireDefault(_proxy);\n\nvar _dataSource = __webpack_require__(278);\n\nvar _dataSource2 = _interopRequireDefault(_dataSource);\n\nvar _setValues = __webpack_require__(438);\n\nvar _setValues2 = _interopRequireDefault(_setValues);\n\nvar _utils = __webpack_require__(570);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar globalStore = void 0;\n\nvar Store = function (_Events) {\n    _inherits(Store, _Events);\n\n    // state\n    // actions\n\n    // mount({})\n    // mount(name, {})\n    // mount(target, name, store)\n    function Store() {\n        var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n        _classCallCheck(this, Store);\n\n        var _this = _possibleConstructorReturn(this, (Store.__proto__ || Object.getPrototypeOf(Store)).call(this, params, options));\n\n        _initialiseProps.call(_this);\n\n        var name = params.name,\n            state = params.state,\n            _params$actions = params.actions,\n            actions = _params$actions === undefined ? {} : _params$actions;\n        var _options$strict = options.strict,\n            strict = _options$strict === undefined ? false : _options$strict,\n            _options$plugins = options.plugins,\n            plugins = _options$plugins === undefined ? [] : _options$plugins;\n\n        state = _extends({}, _this.state, state);\n        _this.originState = (0, _utils.deepCopy)(state);\n        _this.model = (0, _proxy2.default)(state);\n        _this.model.on('get', function (args) {\n            _this.trigger('get', args);\n        });\n        _this.model.on('change', function () {\n            var args = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n            try {\n                _this._startBatch();\n                if (_this.inBatch > 1) {\n                    _this.pendingUnobservations.push(args);\n                } else {\n                    _this.trigger('change', args);\n                }\n            } finally {\n                _this._endBatch();\n            }\n        });\n        _this.inBatch = 0;\n        _this.pendingUnobservations = [];\n        _this.actions = {};\n        _this.strict = strict;\n        _this.allowModelSet = !strict;\n        _this.state = _this.model;\n        _this.url = options.url;\n        _this.name = name;\n        _this.primaryKey = options.primaryKey || 'id';\n        _this._initPlugins(plugins, actions);\n        _this._wrapActions(actions, _this.model);\n        if (!globalStore) {\n            globalStore = _this;\n        }\n        return _this;\n    }\n    // create({})\n    // create(name, {})\n    // create(store, name, params);\n\n\n    _createClass(Store, [{\n        key: '_initPlugins',\n        value: function _initPlugins(plugins, actions) {\n            var _this2 = this;\n\n            var p = [].concat(_toConsumableArray(plugins));\n            p.unshift(_setValues2.default);\n            p.forEach(function (plugin) {\n                if (typeof plugin === 'function') {\n                    plugin(_this2, actions);\n                }\n            });\n        }\n    }, {\n        key: 'get',\n        value: function get(key) {\n            return this.model.get(key);\n        }\n    }, {\n        key: 'set',\n        value: function set(key, value) {\n            var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n            return this.model.set(key, value, options);\n        }\n    }, {\n        key: 'hot',\n        value: function hot() {\n            var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n            var actions = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n            var _this3 = this;\n\n            var prefix = arguments[2];\n            var plugins = arguments[3];\n\n            this.transaction(function () {\n                var keyMap = {};\n                var diffKeys = (0, _utils.diff)(_this3.originState, state).concat((0, _utils.diff)(state, _this3.originState)).filter(function (key) {\n                    return keyMap[key] ? false : keyMap[key] = true;\n                });\n\n                var setValue = function setValue(key, value) {\n                    key = prefix ? prefix + '.' + key : key;\n                    _this3.set(key, value);\n                };\n\n                diffKeys.forEach(function (key) {\n                    var value = key.split('.').reduce(function (obj, curKey) {\n                        return obj && obj[curKey];\n                    }, state);\n                    setValue(key, value);\n                });\n                _this3.originState = (0, _utils.deepCopy)(state);\n            });\n            this._initPlugins(plugins, actions);\n            this._wrapActions(actions, this.model, prefix);\n        }\n    }, {\n        key: '_startBatch',\n        value: function _startBatch() {\n            this.inBatch++;\n        }\n    }, {\n        key: '_endBatch',\n        value: function _endBatch() {\n            // 最外层事务结束时，才开始执行\n            if (--this.inBatch === 0) {\n                // 发布所有state待定的改变\n                this._runPendingObservations();\n            }\n        }\n    }, {\n        key: '_runPendingObservations',\n        value: function _runPendingObservations() {\n            if (this.pendingUnobservations.length) {\n                this.trigger('change', this.pendingUnobservations.slice());\n                this.pendingUnobservations = [];\n            }\n        }\n    }, {\n        key: '_wrapActions',\n        value: function _wrapActions(actions, state, prefix) {\n            var _this4 = this;\n\n            Object.keys(actions).forEach(function (type) {\n                var actionType = prefix ? prefix + '.' + type : type;\n                var that = _this4;\n                var action = actions[type];\n                function actionPayload(payload, options) {\n                    var ret = action.call(that, state, payload, _extends({\n                        state: that.state,\n                        dispatch: that.dispatch\n                    }, options));\n                    that.trigger('actions', {\n                        type: actionType,\n                        payload: payload,\n                        state: that.model\n                    });\n                    return ret;\n                }\n                if (!action._set) {\n                    _this4.actions[actionType] = actionPayload;\n                    actionPayload._set = true;\n                } else {\n                    _this4.actions[actionType] = action;\n                }\n            });\n        }\n    }, {\n        key: 'subscribe',\n        value: function subscribe(callback) {\n            this.on('actions', function (_ref) {\n                var type = _ref.type,\n                    payload = _ref.payload,\n                    state = _ref.state;\n\n                callback({\n                    type: type,\n                    payload: payload,\n                    state: state\n                });\n            });\n        }\n    }, {\n        key: 'create',\n        value: function create(name, params) {\n            return Store.create(this, name, params);\n        }\n    }, {\n        key: 'mount',\n        value: function mount(name, store) {\n            return Store.mount(this, name, store);\n        }\n    }, {\n        key: 'dataSource',\n        get: function get() {\n            return new _dataSource2.default({\n                url: this.url,\n                primaryKey: this.primaryKey\n            });\n        }\n    }, {\n        key: 'request',\n        get: function get() {\n            return this.dataSource.request;\n        }\n    }]);\n\n    return Store;\n}(_events2.default);\n\nStore.create = function (store, name, params) {\n    if (arguments.length === 1) {\n        params = store;\n        store = globalStore;\n        name = params.name;\n    } else if (arguments.length === 2) {\n        params = name;\n        name = store;\n        store = globalStore;\n    }\n    var _params = params,\n        state = _params.state,\n        actions = _params.actions;\n\n    if (!globalStore) {\n        console.warn('The store has not been initialized yet!');\n    }\n    var stateKeys = Object.keys(state);\n    if (stateKeys.length === 0) {\n        store.set(name, {});\n    } else {\n        stateKeys.forEach(function (key) {\n            store.set(name + '.' + key, state[key]);\n        });\n    }\n    store._wrapActions(actions, store.get(name), name);\n    return store.get(name);\n};\n\nStore.mount = function (target, name, store) {\n    if (arguments.length === 1) {\n        store = target;\n        target = globalStore;\n        name = store.name;\n    } else if (arguments.length === 2) {\n        store = name;\n        name = target;\n        target = globalStore;\n    }\n    var _store = store,\n        state = _store.state,\n        actions = _store.actions;\n\n    store.on('change', function (args) {\n        args = (0, _utils.isArray)(args) ? args : [args];\n        target.transaction(function () {\n            for (var i = 0; i < args.length; i++) {\n                var item = args[i];\n                var value = store.get(item.key);\n                target.set(name + '.' + item.key, value);\n            }\n        });\n    });\n    store.on('get', function (args) {\n        var obj = _extends({}, args);\n        obj.key = name + '.' + obj.key;\n        target.trigger('get', obj);\n    });\n    store.on('actions', function (args) {\n        target.trigger('actions', args);\n    });\n    return Store.create(target, name, {\n        state: state.toJSON(),\n        actions: actions\n    });\n};\n\nStore.get = function () {\n    return globalStore;\n};\n\nvar _initialiseProps = function _initialiseProps() {\n    var _this5 = this;\n\n    this.transaction = function (fn) {\n        _this5._startBatch();\n        try {\n            return fn.apply(_this5);\n        } finally {\n            _this5._endBatch();\n        }\n    };\n\n    this.dispatch = function (type, payload, options) {\n        var action = _this5.actions[type];\n        if (!action || typeof action !== 'function') {\n            throw new Error('Cant find ' + type + ' action');\n        }\n        _this5.allowModelSet = true;\n        var ret = action(payload, options);\n        if (_this5.strict) {\n            _this5.allowModelSet = false;\n        }\n        return ret;\n    };\n};\n\nexports.default = Store;\nvar create = exports.create = Store.create;\n\nvar get = exports.get = Store.get;\n\n//# sourceURL=webpack://demo/./node_modules/@royjs/core/lib/store.js?")},570:(__unused_webpack_module,exports)=>{"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar checkType = function checkType(item) {\n    return Object.prototype.toString.call(item).replace(/\\[object\\s(.*)\\]/, function (all, matched) {\n        return matched;\n    });\n};\n\nvar isPlainObject = exports.isPlainObject = function isPlainObject(item) {\n    return checkType(item) === 'Object';\n};\nvar isArray = exports.isArray = function isArray(item) {\n    return checkType(item) === 'Array';\n};\n\nvar throttle = exports.throttle = function throttle(target, key, descriptor) {\n    var fn = target[key];\n    var limit = 300;\n    var wait = false;\n    descriptor.value = function () {\n        if (!wait) {\n            for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n                args[_key] = arguments[_key];\n            }\n\n            fn.apply(this, args);\n            wait = true;\n            setTimeout(function () {\n                wait = false;\n            }, limit);\n        }\n    };\n};\n\nvar warning = exports.warning = function warning(msg) {\n    console.error(msg);\n};\n\nvar deepCopy = exports.deepCopy = function deepCopy(params) {\n    return JSON.parse(JSON.stringify(params));\n};\n\nvar jsonEqual = exports.jsonEqual = function equal(x, y) {\n    if (checkType(x) === checkType(y)) {\n        return JSON.stringify(x) === JSON.stringify(y);\n    }\n    return false;\n};\n\nvar diff = exports.diff = function diff(left, right) {\n    var previousPath = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '';\n    var keys = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : [];\n\n    Object.entries(left).forEach(function (_ref) {\n        var _ref2 = _slicedToArray(_ref, 2),\n            k = _ref2[0],\n            v = _ref2[1];\n\n        var currentPath = previousPath ? previousPath + '.' + k : k;\n        if (isPlainObject(v) && isPlainObject(right[k])) {\n            diff(v, right[k], currentPath, keys);\n        } else if (!jsonEqual(right[k], v)) {\n            keys.push(currentPath);\n        }\n    });\n    return keys;\n};\n\nvar change = exports.change = function change(obj) {\n    var _this = this;\n\n    obj = isArray(obj) ? obj : [obj];\n    var matched = void 0;\n\n    var _loop = function _loop(index) {\n        var item = obj[index];\n        var match = Object.keys(_this._deps).some(function (dep) {\n            return item.key.indexOf(dep) === 0;\n        });\n        if (match) {\n            matched = true;\n        }\n    };\n\n    for (var index = 0; index < obj.length; index++) {\n        _loop(index);\n    }\n    if (matched) {\n        this.forceUpdate();\n    }\n};\n\nvar get = exports.get = function get(data) {\n    this._deps[data.key] = true;\n};\n\n//# sourceURL=webpack://demo/./node_modules/@royjs/core/lib/utils.js?")},703:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval("/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\n\nvar ReactPropTypesSecret = __webpack_require__(414);\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n\n\n//# sourceURL=webpack://demo/./node_modules/prop-types/factoryWithThrowingShims.js?")},697:(module,__unused_webpack_exports,__webpack_require__)=>{eval("/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (false) { var throwOnDirectAccess, ReactIs; } else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = __webpack_require__(703)();\n}\n\n\n//# sourceURL=webpack://demo/./node_modules/prop-types/index.js?")},414:module=>{"use strict";eval("/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n\n\n//# sourceURL=webpack://demo/./node_modules/prop-types/lib/ReactPropTypesSecret.js?")},774:module=>{eval('//\n\nmodule.exports = function shallowEqual(objA, objB, compare, compareContext) {\n  var ret = compare ? compare.call(compareContext, objA, objB) : void 0;\n\n  if (ret !== void 0) {\n    return !!ret;\n  }\n\n  if (objA === objB) {\n    return true;\n  }\n\n  if (typeof objA !== "object" || !objA || typeof objB !== "object" || !objB) {\n    return false;\n  }\n\n  var keysA = Object.keys(objA);\n  var keysB = Object.keys(objB);\n\n  if (keysA.length !== keysB.length) {\n    return false;\n  }\n\n  var bHasOwnProperty = Object.prototype.hasOwnProperty.bind(objB);\n\n  // Test for A\'s keys different from B.\n  for (var idx = 0; idx < keysA.length; idx++) {\n    var key = keysA[idx];\n\n    if (!bHasOwnProperty(key)) {\n      return false;\n    }\n\n    var valueA = objA[key];\n    var valueB = objB[key];\n\n    ret = compare ? compare.call(compareContext, valueA, valueB, key) : void 0;\n\n    if (ret === false || (ret === void 0 && valueA !== valueB)) {\n      return false;\n    }\n  }\n\n  return true;\n};\n\n\n//# sourceURL=webpack://demo/./node_modules/shallowequal/index.js?')},671:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "Z": () => (/* binding */ _classCallCheck)\n/* harmony export */ });\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError("Cannot call a class as a function");\n  }\n}\n\n//# sourceURL=webpack://demo/./node_modules/@babel/runtime/helpers/esm/classCallCheck.js?')},144:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "Z": () => (/* binding */ _createClass)\n/* harmony export */ });\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if ("value" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\n//# sourceURL=webpack://demo/./node_modules/@babel/runtime/helpers/esm/createClass.js?')},120:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "Z": () => (/* binding */ _getPrototypeOf)\n/* harmony export */ });\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\n//# sourceURL=webpack://demo/./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js?')},507:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval('\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  "Z": () => (/* binding */ _inherits)\n});\n\n;// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n;// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/inherits.js\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== "function" && superClass !== null) {\n    throw new TypeError("Super expression must either be null or a function");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\n//# sourceURL=webpack://demo/./node_modules/@babel/runtime/helpers/esm/inherits.js_+_1_modules?')},690:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval('\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  "Z": () => (/* binding */ _objectWithoutProperties)\n});\n\n;// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n;// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\n//# sourceURL=webpack://demo/./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js_+_1_modules?')},106:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval('\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  "Z": () => (/* binding */ _possibleConstructorReturn)\n});\n\n;// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/typeof.js\nfunction _typeof(obj) {\n  "@babel/helpers - typeof";\n\n  if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n;// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");\n  }\n\n  return self;\n}\n;// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js\n\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === "object" || typeof call === "function")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\n//# sourceURL=webpack://demo/./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js_+_2_modules?')}}]);